<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>278 - First Bad Version | LeetCode In The Shell</title>
    <link rel="stylesheet" href="../../css/style.css" />
    <link rel="stylesheet" href="../../css/fonts.css" />
    <link href="//cdn.bootcss.com/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">


  </head>

  <body>
    <nav>
    <ul class="menu">
      
      <li><a href="../../">Home</a></li>
      
      <li><a href="../../about/">About</a></li>
      
      <li><a href="../../categories/">Categories</a></li>
      
      <li><a href="../../tags/">Tags</a></li>
      
    </ul>
    <hr/>
    </nav>

<div class="article-meta">
<h1><span class="title">278 - First Bad Version</span></h1>

<h2 class="date">2020/05/01</h2>
<p class="terms">
  
  
  Categories: <a href="../../categories/leetcode">leetcode</a> 
  
  
  
  Tags: <a href="../../tags/easy">easy</a> <a href="../../tags/array">array</a> <a href="../../tags/bs">bs</a> <a href="../../tags/1-pass">1-pass</a> 
  
  
</p>
</div>

<main>
<p><a href="https://leetcode.com/problems/first-bad-version/">leetcode</a></p>
<h2 id="problem">Problem</h2>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">You are a product manager and currently leading a team to develop a new product.
Unfortunately, the latest version of your product fails the quality check.
Since each version is developed based on the previous version, all the versions after a bad version are also bad.

Suppose you have n versions [1, 2, ..., n] and you want to find out the first bad one, which causes all the following ones to be bad.

You are given an API bool isBadVersion(version) which will return whether version is bad.
Implement a function to find the first bad version. You should minimize the number of calls to the API.

Example:

Given n = 5, and version = 4 is the first bad version.

call isBadVersion(3) -&gt; false
call isBadVersion(5) -&gt; true
call isBadVersion(4) -&gt; true

Then 4 is the first bad version.
</code></pre></div><h2 id="solution">Solution</h2>
<p>Binary Search is your friend!</p>
<h3 id="solution-1-binary-search-to-the-end">Solution 1: Binary Search to the end</h3>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">firstBadVerion</span>(self, n):
        l, r, mid <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>, n, (<span style="color:#ae81ff">1</span><span style="color:#f92672">+</span>n) <span style="color:#f92672">/</span><span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>

        <span style="color:#66d9ef">while</span> l <span style="color:#f92672">!=</span> mid:
            <span style="color:#66d9ef">if</span> <span style="color:#960050;background-color:#1e0010">!</span>isBadVersion(mid):
                l <span style="color:#f92672">=</span> mid
            <span style="color:#66d9ef">else</span>:
                r <span style="color:#f92672">=</span> mid
            mid <span style="color:#f92672">=</span> (l <span style="color:#f92672">+</span> r) <span style="color:#f92672">/</span><span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>

        <span style="color:#66d9ef">return</span> l <span style="color:#66d9ef">if</span> isBadVersion(l) <span style="color:#66d9ef">else</span> r
</code></pre></div><h3 id="solution-2-binary-search-with-break">Solution 2: Binary Search with break</h3>
<p>It should be faster then solution 1, because we do not wait for l meets mid, which might take longer.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-python" data-lang="python"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span>:
    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">firstBadVersion</span>(self, n):
        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span>:
            <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>

        l, r <span style="color:#f92672">=</span> <span style="color:#ae81ff">2</span>, n

        <span style="color:#66d9ef">while</span> l <span style="color:#f92672">&lt;</span><span style="color:#f92672">=</span> r:
            mid <span style="color:#f92672">=</span> (l <span style="color:#f92672">+</span> r) <span style="color:#f92672">/</span><span style="color:#f92672">/</span> <span style="color:#ae81ff">2</span>
            <span style="color:#66d9ef">if</span> isBadVersion(mid) <span style="color:#f92672">and</span> <span style="color:#f92672">not</span> isBadVersion(mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>):
                <span style="color:#66d9ef">return</span> mid
            <span style="color:#66d9ef">elif</span> isBadVersion(mid):
                r <span style="color:#f92672">=</span> mid <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>
            <span style="color:#66d9ef">else</span>:
                l <span style="color:#f92672">=</span> mid <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
        <span style="color:#66d9ef">return</span> <span style="color:#ae81ff">1</span>
</code></pre></div>
</main>

  <footer>
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "alfmunnystechblog" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<script src="//cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>


  
  <hr/>
  Â© <a href="http://alfmunny.com">Alfmunny</a> 2019 &ndash; 2020| <a href="https://github.com/alfmunny">Github</a> | <a href="https://twitter.com/alfmunny">Twitter</a>
  
  </footer>
  </body>
</html>

